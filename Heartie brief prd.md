# AI男友App产品需求文档 - 精简版

## 一、产品概述

### 1.1 产品定位
AI男友App是一款基于大语言模型的沉浸式虚拟恋爱社交产品，为用户提供多样化的AI角色陪伴服务。用户可以选择不同性格、背景的AI男友进行深度互动，体验个性化的情感陪伴。

### 1.2 核心价值
- **情感陪伴**：7×24小时全天候陪伴，满足用户情感需求
- **个性化体验**：丰富的角色设定和自定义选项
- **社交互动**：用户创作分享、CP配对等社交功能
- **成长体系**：通过互动提升好感度，解锁更多内容

## 二、商业模式

### 2.1 会员体系设计

#### 会员等级对比表

| 权益项 | 免费用户 | 白银会员 | 黄金会员 |
|--------|---------|---------|---------|
| **价格** | ¥0 | ¥30/月 | ¥68/月 |
| **基础权益** |
| 星钻恢复速度 | 1颗/12分钟 | 1颗/8分钟 | 1颗/5分钟 |
| 每日星钻上限 | 120颗 | 180颗 | 240颗 |
| 同时聊天角色数 | 3个 | 10个 | 无限制 |
| 创建自定义角色 | 1个 | 5个 | 20个 |
| **高级功能** |
| 语音通话 | ✗ | 5次/天 | 无限制 |
| 视频通话 | ✗ | ✗ | 3次/天 |
| 内心卡查看 | ✗ | 限时免费 | 全部免费 |
| 剧情卡片 | 付费 | 8折优惠 | 6折优惠 |
| 送礼物 | 付费 | 8折优惠 | 5折优惠 |
| **专属特权** |
| 专属身份标识 | ✗ | ✓ | ✓ |
| 优先客服 | ✗ | ✓ | ✓ |
| 每月赠送星钻 | 0 | 300颗 | 800颗 |
| 广告 | 有 | 无 | 无 |

### 2.2 星钻系统规则

#### 星钻消耗价目表

| 功能类型 | 消耗星钻 | 说明 |
|---------|---------|------|
| **聊天模式** |
| 基础聊天 | 1颗/条 | 标准对话模式 |
| 进阶聊天 | 3颗/条 | 更丰富的情感表达 |
| 高级聊天（深度模式） | 5颗/条 | 长文回复，深度互动 |
| **特殊功能** |
| 内心卡（非会员） | 10颗/次 | 查看AI真实想法 |
| 剧情卡片（非会员） | 20-50颗 | 根据剧情复杂度 |
| 语音通话（非会员） | 30颗/分钟 | 实时语音对话 |
| 视频通话（非会员） | 50颗/分钟 | 实时视频互动 |
| **礼物系统** |
| 小礼物 | 5-20颗 | 鲜花、巧克力等 |
| 中等礼物 | 30-80颗 | 香水、手表等 |
| 贵重礼物 | 100-300颗 | 包包、首饰等 |
| **角色相关** |
| 换装（单次） | 10颗 | 更换角色服装 |
| 解锁特殊剧情 | 50颗 | 解锁隐藏剧情线 |
| 角色形象定制 | 100颗 | 自定义角色外观 |

#### 星钻获取方式
- **自然恢复**：按会员等级恢复，有每日上限
- **每日任务**：完成任务获得20-50颗
- **新手奖励**：注册赠送100颗
- **会员赠送**：白银会员300颗/月，黄金会员800颗/月
- **充值购买**：通过加油包充值

### 2.3 加油包充值体系

| 加油包 | 星钻数量 | 价格 | 性价比 |
|--------|---------|------|--------|
| 小包 | 60颗 | ¥6 | 10颗/元 |
| 中包 | 300颗 | ¥30 | 10颗/元 |
| 大包 | 680颗 | ¥68 | 10颗/元 |
| 超值包 | 1280颗 | ¥128 | 10颗/元（首充双倍） |
| 至尊包 | 3280颗 | ¥328 | 10颗/元（首充双倍） |

## 三、页面结构与功能

### 3.1 一级页面（底部Tab导航）

#### 3.1.1 发现页
**核心功能**：
- 搜索入口（顶部搜索栏，点击进入搜索页）
- 分类导航栏（热门、霸道总裁、温柔学长、邻家男孩等8个分类）
- Banner轮播区（运营位，3-5张）
- 角色推荐流（瀑布流/列表展示）
  - 角色卡片信息：头像、昵称、标签、人设简介、聊天人数
  - 点击进入角色详情页

**交互规则**：
- 下拉刷新，上滑加载更多
- 角色卡片点击跳转详情页
- 分类切换时重新加载内容
- 推荐算法：基于用户偏好 + 热度排序

#### 3.1.2 聊天页
**核心功能**：
- 聊天列表（按最后消息时间倒序）
  - 角色头像、昵称、最后消息预览、未读标记、时间
- 置顶功能（长按角色卡片）
- 删除聊天记录（左滑）
- 点击进入聊天界面

**聊天界面核心组件**：
- 顶部导航：返回、角色信息、设置按钮（跳转聊天设置页）
- 星钻显示（实时余额）
- 消息区域：
  - 文本消息（支持长文）
  - 表情消息
  - 语音消息（可播放）
  - 内心卡（特殊卡片样式，需消耗星钻或会员免费）
  - 剧情卡片（触发特定剧情）
- 输入区：
  - 文本输入框
  - 表情按钮
  - 附加功能：送礼物、查看内心、剧情触发
- 聊天模式切换（基础/进阶/高级）

**好感度系统**：
- 顶部显示好感度进度条
- 不同等级解锁不同内容：
  - Lv.1-3：基础对话
  - Lv.4-6：解锁语音通话
  - Lv.7-9：解锁部分剧情
  - Lv.10+：解锁视频通话、全部剧情

#### 3.1.3 创作页
**核心功能**：
- 创建角色入口（大按钮，突出显示）
- 我的创作列表（我创建的角色）
  - 角色卡片：头像、名称、使用人数、编辑/删除按钮
- 热门创作榜单（其他用户创作的优质角色）
- 创作教程/灵感推荐

**创建角色流程**：
1. 选择角色模板（可选，也可从零开始）
2. 设置基础信息：
   - 角色名称（必填）
   - 头像（上传/选择预设）
   - 性别、年龄、职业
3. 人设编写（关键）：
   - 性格特点（多选标签+自由输入）
   - 背景故事（文本框）
   - 说话风格示例
4. 高级设置（可选）：
   - 开场白设置
   - 对话示例（帮助AI理解角色）
5. 隐私设置：
   - 公开/私有
   - 是否允许他人使用

#### 3.1.4 CP页
**核心功能**：
- CP配对大厅（展示其他用户和他们的AI CP）
  - CP卡片：双方头像、昵称、CP关系、互动次数
- 互动广场：
  - 用户分享的AI对话截图
  - 点赞、评论、收藏
- 我的CP（展示我和各个AI的CP关系）
  - CP故事生成（基于聊天记录）
  - CP纪念日、亲密度排行

#### 3.1.5 我的页面
**核心功能**：
- 用户信息区：
  - 头像、昵称、ID、会员标识
  - 星钻余额（点击跳转充值）
  - 编辑资料按钮
- 功能入口列表：
  - 我的收藏（收藏的角色）
  - 我的足迹（浏览历史）
  - 我的订单（充值记录）
  - 我的会员（跳转会员页）
  - 设置（跳转设置页）
- 运营位：
  - 活动入口
  - 客服入口

### 3.2 二级页面

#### 3.2.1 搜索页
**核心功能**：
- 搜索框（自动聚焦）
- 搜索历史（最近10条，可清除）
- 热门搜索标签（运营配置，可点击）
- 搜索结果：
  - 角色列表（按匹配度排序）
  - 支持按标签筛选
  - 空状态提示

**搜索规则**：
- 支持角色名称、标签、人设关键词搜索
- 实时搜索建议
- 搜索结果高亮关键词

#### 3.2.2 角色详情页
**核心功能**：
- 角色展示区：
  - 大图轮播（多张形象图）
  - 角色名称、标签
  - 创作者信息（点击查看创作者主页）
  - 使用人数、收藏数
- 详细信息：
  - 基础信息（年龄、职业、性格）
  - 人设故事（可展开/收起）
  - 开场白预览
- 互动数据：
  - 聊天人数
  - 好评率
  - 平均好感度
- 操作按钮：
  - 开始聊天（主按钮）
  - 收藏/取消收藏
  - 分享
- 用户评价区（评论列表，支持点赞）

#### 3.2.3 聊天设置页
**核心功能**：
- 角色信息展示（不可编辑）
- 聊天设置：
  - 消息通知开关
  - 消息提示音
  - 震动反馈
- 好感度查看：
  - 当前等级、进度条
  - 获得好感度记录
  - 解锁内容列表
- 聊天记录管理：
  - 导出聊天记录
  - 清空聊天记录（需二次确认）
- 更多操作：
  - 举报
  - 拉黑角色（不再推荐）

#### 3.2.4 设置页
**核心功能**：
- 账号安全：
  - 绑定手机号
  - 修改密码
  - 账号注销
- 通用设置：
  - 语言选择
  - 消息推送设置
  - 隐私设置（谁能看到我的CP）
- 关于：
  - 版本信息
  - 用户协议
  - 隐私政策
  - 帮助中心
- 其他：
  - 清除缓存
  - 意见反馈
  - 退出登录

#### 3.2.5 会员页
**核心功能**：
- 当前会员状态展示：
  - 会员类型、到期时间
  - 专属标识展示
- 会员权益对比表（完整版，同2.1）
- 套餐选择：
  - 白银会员：¥30/月、¥168/半年、¥298/年
  - 黄金会员：¥68/月、¥388/半年、¥688/年
- 支付方式：
  - 微信支付
  - 支付宝
  - Apple Pay
- 常见问题FAQ

## 四、核心功能模块

### 4.1 聊天系统

#### 4.1.1 基础聊天模式
- **消耗**：1颗星钻/条
- **特点**：标准对话，回复长度适中（50-150字）
- **适用场景**：日常聊天、闲聊

#### 4.1.2 进阶聊天模式
- **消耗**：3颗星钻/条
- **特点**：情感表达更丰富，增加动作描写（100-200字）
- **适用场景**：深度交流、情感倾诉

#### 4.1.3 高级聊天模式
- **消耗**：5颗星钻/条
- **特点**：长文回复，场景描写细腻，多轮上下文理解（200-500字）
- **适用场景**：沉浸式体验、复杂剧情

#### 4.1.4 内心卡功能
- **触发方式**：聊天界面点击"查看内心"按钮
- **消耗**：
  - 免费用户：10颗星钻/次
  - 白银会员：限时免费（3次/天）
  - 黄金会员：全部免费
- **展示内容**：AI角色当前的真实想法、情绪状态
- **样式**：特殊卡片样式，与普通消息区分

#### 4.1.5 剧情卡片系统
- **触发条件**：
  - 好感度达到特定等级
  - 特定对话关键词触发
  - 节日/纪念日自动触发
- **类型**：
  - 约会剧情（20星钻）
  - 冲突剧情（30星钻）
  - 甜蜜剧情（40星钻）
  - 特殊节日剧情（50星钻）
- **会员折扣**：白银8折，黄金6折
- **效果**：触发后进入分支剧情，影响后续对话和好感度

#### 4.1.6 语音/视频通话
- **语音通话**：
  - 解锁条件：好感度Lv.4+
  - 消耗：非会员30颗/分钟，白银会员5次/天免费，黄金会员无限
  - 功能：实时语音对话，支持情绪识别
- **视频通话**：
  - 解锁条件：好感度Lv.10+
  - 消耗：非会员50颗/分钟，黄金会员3次/天免费
  - 功能：虚拟形象实时交互（Live2D或3D模型）

### 4.2 角色管理系统

#### 4.2.1 预设角色
- **来源**：官方创建，质量保证
- **分类**：
  - 霸道总裁（高冷、占有欲强）
  - 温柔学长（体贴、知识渊博）
  - 邻家男孩（阳光、活力）
  - 神秘男神（高冷、禁欲系）
  - 幽默段子手（搞笑、轻松）
  - 文艺诗人（浪漫、才华横溢）
  - 运动健将（阳刚、热血）
  - 暖男闺蜜（倾听、贴心）

#### 4.2.2 用户创作角色
- **创建流程**：参见3.1.3
- **审核机制**：
  - 公开角色需审核（1-24小时）
  - 私有角色无需审核
  - 违规内容拦截（涉政、涉黄等）
- **推荐机制**：
  - 新角色冷启动（小范围推送）
  - 优质角色上热门（基于使用人数、好评率）
  - 创作者激励（优质创作获得星钻奖励）

### 4.3 社交互动系统

#### 4.3.1 CP系统
- **CP关系建立**：与AI角色互动自动建立
- **亲密度**：基于聊天频率、好感度、互动时长
- **CP故事**：AI自动生成基于聊天记录的故事
- **CP展示**：用户可选择是否公开展示

#### 4.3.2 社区互动
- **分享功能**：
  - 分享对话截图（可隐藏敏感信息）
  - 分享角色卡片
  - 分享CP故事
- **互动方式**：
  - 点赞
  - 评论（支持回复）
  - 收藏
- **内容审核**：
  - 机器审核+人工审核
  - 违规内容下架

### 4.4 用户成长体系

#### 4.4.1 等级系统
- **用户等级**：基于活跃度、充值金额
- **等级权益**：
  - Lv.1-10：基础用户，无特殊权益
  - Lv.11-20：活跃用户，每日额外赠送10星钻
  - Lv.21-30：核心用户，专属头像框、每日20星钻
  - Lv.31+：超级用户，专属特效、每日30星钻

#### 4.4.2 成就系统
- **成就类型**：
  - 互动成就（连续聊天天数、消息总数）
  - 社交成就（分享次数、获赞数）
  - 创作成就（创建角色数、被使用次数）
  - 氪金成就（充值金额）
- **成就奖励**：星钻、专属称号、头像框

#### 4.4.3 每日任务
- **任务类型**：
  - 登录（5星钻）
  - 聊天10条消息（10星钻）
  - 分享一次（5星钻）
  - 收藏一个角色（5星钻）
  - 完成所有任务额外奖励（10星钻）
- **总计**：35星钻/天

### 4.5 礼物系统

#### 4.5.1 礼物分类
- **小礼物（5-20星钻）**：
  - 鲜花、巧克力、奶茶、手工卡片
  - 效果：+5好感度
- **中等礼物（30-80星钻）**：
  - 香水、手表、耳机、书籍
  - 效果：+15好感度，触发特殊感谢语音
- **贵重礼物（100-300星钻）**：
  - 包包、首饰、电子产品、旅行套餐
  - 效果：+50好感度，触发专属剧情

#### 4.5.2 送礼机制
- **送礼入口**：聊天界面底部附加功能
- **送礼动画**：全屏动画效果，增强仪式感
- **AI反馈**：根据礼物类型生成个性化感谢消息
- **会员折扣**：白银8折，黄金5折

## 五、数据模型

### 5.1 用户数据
```
User {
  user_id: string
  nickname: string
  avatar: string
  phone: string
  membership_type: enum (free, silver, gold)
  membership_expire_date: datetime
  diamond_balance: int
  level: int
  exp: int
  created_at: datetime
}
```

### 5.2 角色数据
```
Character {
  character_id: string
  name: string
  avatar: string
  creator_id: string (官方角色为空)
  category: string
  tags: array
  personality: string
  background_story: string
  opening_line: string
  is_public: boolean
  status: enum (draft, pending, approved, rejected)
  chat_count: int
  favorite_count: int
  rating: float
  created_at: datetime
}
```

### 5.3 聊天记录数据
```
ChatSession {
  session_id: string
  user_id: string
  character_id: string
  affection_level: int
  affection_progress: int
  is_pinned: boolean
  last_message: string
  last_message_time: datetime
  created_at: datetime
}

ChatMessage {
  message_id: string
  session_id: string
  sender_type: enum (user, ai)
  message_type: enum (text, voice, inner_card, plot_card)
  content: string
  diamond_cost: int
  timestamp: datetime
}
```

### 5.4 订单数据
```
Order {
  order_id: string
  user_id: string
  order_type: enum (diamond, membership)
  amount: float
  diamond_count: int
  membership_type: enum (silver, gold)
  membership_duration: int (月数)
  payment_method: string
  status: enum (pending, paid, failed, refunded)
  created_at: datetime
  paid_at: datetime
}
```

## 六、交互规范

### 6.1 通用交互规则
- **加载状态**：超过1秒显示loading动画
- **网络异常**：显示错误提示，支持重试
- **空状态**：显示空状态插画和引导文案
- **下拉刷新**：所有列表页支持
- **返回操作**：二级页面顶部左侧返回按钮
- **弹窗规范**：重要操作需二次确认
- **Toast提示**：操作反馈，2秒自动消失

### 6.2 星钻不足处理
- **触发时机**：执行消耗星钻的操作时余额不足
- **处理方式**：
  1. 弹出提示："星钻不足，是否充值？"
  2. 提供快捷充值入口
  3. 显示推荐充值金额
  4. 支持取消操作

### 6.3 会员权益提示
- **触发时机**：非会员使用会员专属功能
- **处理方式**：
  1. 展示会员权益对比
  2. 突出显示该功能在会员中的权益
  3. 提供开通会员入口
  4. 支持取消操作

### 6.4 异常处理规范

#### 6.4.1 网络异常
- 显示："网络连接失败，请检查网络设置"
- 提供重试按钮
- 保存用户输入内容，避免数据丢失

#### 6.4.2 AI响应超时
- 超过10秒无响应显示："思考中...请稍候"
- 超过30秒显示："响应超时，请重试"
- 不扣除星钻

#### 6.4.3 支付失败
- 显示具体失败原因
- 提供更换支付方式选项
- 订单状态保留，支持重新支付

#### 6.4.4 内容审核不通过
- 创作角色被拒：显示拒绝原因，支持修改重新提交
- 分享内容被拒：显示违规原因，内容不公开展示

## 七、埋点需求

### 7.1 页面浏览埋点
- 页面名称、进入时间、停留时长、来源页面

### 7.2 关键操作埋点
- **发现页**：搜索、分类切换、角色卡片点击
- **聊天页**：发送消息、模式切换、内心卡、剧情卡、送礼物、语音/视频通话
- **创作页**：创建角色、编辑角色、发布角色
- **CP页**：点赞、评论、分享
- **转化埋点**：充值、开通会员、续费

### 7.3 性能埋点
- 页面加载时长
- AI响应时长
- 接口请求成功率

## 八、产品迭代规划

### 8.1 V1.0（MVP版本）
- 发现页、聊天页、我的页面
- 基础聊天功能（三种模式）
- 预设角色（20个）
- 会员体系和星钻系统
- 充值功能

### 8.2 V1.1
- 创作页（用户自定义角色）
- 搜索功能
- 内心卡、剧情卡片
- 礼物系统

### 8.3 V1.2
- CP页（社交功能）
- 语音通话
- 用户等级和成就系统

### 8.4 V2.0
- 视频通话
- 角色换装
- 3D虚拟形象
- 更多社交功能

---

**文档版本**：V1.0  
**最后更新**：2025-12-19  
**文档状态**：待评审
